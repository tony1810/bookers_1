

<div class= "index">
    <p class="flash" >
    <%= flash[:notice] %>
    </p>
    <h1>
        Books
    </h1>

    <table>
        <thred>
            <tr>
                <div class="tr-title">
                    <th>Title</th>
                </div>
                <th>Body</th>
            </tr>
        </thred>
        <tbody>
            <% @books.each do |book| %>
                <tr>
                    <td>
                        <%=book.title %>
                    </td>
                    <td>
                        <%=book.body %>
                    </td>
                    <td>
                        <%=link_to 'Show' , book_path(book) , class: "link-book"  %>
                    </td>
                    <td>
                        <%=link_to 'Edit' , edit_book_path(book), class: "link-book"  %>
                    </td>
                    <td>
                        <%=link_to 'Destroy' , "/books/#{book.id}" , method: :delete , data: {confirm: "Are you sure?"},class: "link-book" %>
                    </td>
                </tr>
            <% end %>
        </tbody>
    </table>

    <%=form_with model: @book, url: books_path , method: :post do |f| %>

    <h2>
        New book
    </h2>
    <div class="input">
        <div class="error">
            <% if @book.errors.any?  %>
                <%= @book.errors.count %>errors prohibited this book from being saved:
                <ul>
                    <% @book.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                    <% end %>
                </ul>
            <% end %>
        </div>
        <section>Title</section>
        <div class="input-title">
            <%= f.text_field :title%>
        </div>
        <section>Body</section>
        <div class="input-body">
            <%= f.text_area :body%>
        </div>
        <div class="input-submit">
            <%= f.submit 'Create Book'%>
        </div>
    </div>
    <% end %>
</div>


